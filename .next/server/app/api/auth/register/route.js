"use strict";(()=>{var e={};e.id=3002,e.ids=[3002],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},33561:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{POST:()=>d});var s=r(49303),i=r(88716),n=r(60670),o=r(87070),u=r(83493),p=r(98691);async function d(e){try{let{fullName:t,email:r,password:a,studentType:s,program:i,avatarUrl:n}=await e.json();if(!t||!r||!a||!s||!i)return o.NextResponse.json({error:"Full name, email, password, student type, and program are required."},{status:400});let d=r.trim().toLowerCase();if(await u._.student.findUnique({where:{email:d}}))return o.NextResponse.json({error:"An account with this email already exists."},{status:409});let l=await p.ZP.hash(a,10),c=await u._.student.create({data:{fullName:t,email:d,password:l,studentType:s,program:i,avatarUrl:n??null},select:{id:!0,fullName:!0,email:!0,studentType:!0,program:!0,avatarUrl:!0,isAdmin:!0,createdAt:!0}});return o.NextResponse.json({message:"Student registered successfully.",student:c},{status:201})}catch(e){return console.error("⚠️ Register error:",e),o.NextResponse.json({error:"Failed to register student."},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"C:\\Users\\Legacy\\Desktop\\iit-international-student-dashboard\\app\\api\\auth\\register\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:g}=l,h="/api/auth/register/route";function x(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},83493:(e,t,r)=>{r.d(t,{_:()=>s});let a=require("@prisma/client"),s=globalThis.prisma??new a.PrismaClient({log:["error","warn"]})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,5972,8691],()=>r(33561));module.exports=a})();